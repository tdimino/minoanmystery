/**
 * Labyrinth Backgrounds
 * Soul manifestation backgrounds: goddess, vision, tarot base
 * Extracted from labyrinth.astro for modularity
 */

/* ─────────────────────────────────────────────────────────────
   Soul Background Base Class
   Shared styles for all ethereal background manifestations
   ───────────────────────────────────────────────────────────── */

.soul-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 2.5s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.soul-bg.active {
  opacity: 1;
}

/* Shared vignette base */
.soul-vignette {
  position: absolute;
  inset: 0;
}

/* ─────────────────────────────────────────────────────────────
   Divine Feminine Background
   Ethereal manifestation when goddess terms are invoked
   ───────────────────────────────────────────────────────────── */

.goddess-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('/images/soul/potnia-theron-transparent.png');
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.12;
  filter: sepia(0.3) saturate(0.8);
  animation: goddess-breathe 12s ease-in-out infinite paused;
}

.goddess-bg.active::before {
  animation-play-state: running;
}

/* Goddess vignette specifics */
.goddess-vignette {
  background: radial-gradient(
    ellipse at center,
    transparent 20%,
    rgba(var(--color-background-rgb, 255, 255, 255), 0.7) 70%,
    var(--color-background) 100%
  );
}

[data-theme='dark'] .goddess-vignette {
  background: radial-gradient(
    ellipse at center,
    transparent 20%,
    rgba(13, 13, 13, 0.7) 70%,
    #0d0d0d 100%
  );
}

[data-theme='dark'] .goddess-bg::before {
  filter: sepia(0.2) saturate(0.6) brightness(0.9);
  opacity: 0.08;
}

@keyframes goddess-breathe {
  0%, 100% {
    transform: scale(1) translateY(0);
    opacity: 0.10;
  }
  50% {
    transform: scale(1.02) translateY(-1%);
    opacity: 0.14;
  }
}

/* ─────────────────────────────────────────────────────────────
   Vision Background (AI-Generated)
   Ethereal manifestation of Kothar's visions
   ───────────────────────────────────────────────────────────── */

.vision-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.15;
  filter: sepia(0.2) saturate(0.9);
  animation: vision-breathe 15s ease-in-out infinite paused;
}

.vision-bg.active::before {
  animation-play-state: running;
}

/* Vision vignette specifics */
.vision-vignette {
  background: radial-gradient(
    ellipse at center,
    transparent 30%,
    rgba(var(--color-background-rgb, 255, 255, 255), 0.6) 65%,
    var(--color-background) 100%
  );
}

[data-theme='dark'] .vision-vignette {
  background: radial-gradient(
    ellipse at center,
    transparent 30%,
    rgba(13, 13, 13, 0.6) 65%,
    #0d0d0d 100%
  );
}

[data-theme='dark'] .vision-bg::before {
  filter: sepia(0.15) saturate(0.7) brightness(0.85);
  opacity: 0.12;
}

@keyframes vision-breathe {
  0%, 100% {
    transform: scale(1) translateY(0);
    opacity: 0.12;
  }
  50% {
    transform: scale(1.015) translateY(-0.5%);
    opacity: 0.16;
  }
}

/* ─────────────────────────────────────────────────────────────
   Tarot Background Base (Generated Minoan Tarot Cards)
   Ethereal manifestation of the tarot every 10 turns
   Vignette and name styling - animations in tarot.css
   ───────────────────────────────────────────────────────────── */

/* Tarot vignette specifics - softer, synchronized with card breathing */
.tarot-vignette {
  background: radial-gradient(
    ellipse 130% 130% at center,
    transparent 10%,
    rgba(var(--color-background-rgb, 255, 255, 255), 0.3) 35%,
    rgba(var(--color-background-rgb, 255, 255, 255), 0.65) 55%,
    var(--color-background) 80%
  );
  z-index: 3;
  animation: tarot-vignette-pulse 18s ease-in-out infinite;
}

[data-theme='dark'] .tarot-vignette {
  background: radial-gradient(
    ellipse 130% 130% at center,
    transparent 10%,
    rgba(13, 13, 13, 0.3) 35%,
    rgba(13, 13, 13, 0.65) 55%,
    #0d0d0d 80%
  );
}

/* Synchronized vignette pulse */
@keyframes tarot-vignette-pulse {
  0%, 100% {
    opacity: 0.85;
  }
  50% {
    opacity: 0.75;
  }
}

/* Tarot card name dark mode - used by inline tarot in chat */
[data-theme='dark'] .tarot-card-name {
  text-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
  opacity: 0.3;
}
